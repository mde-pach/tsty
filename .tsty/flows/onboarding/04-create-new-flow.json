{
  "name": "Onboarding: Create New Flow",
  "description": "Test the flow creation workflow: click New Flow, fill in details, and verify the flow editor loads correctly.",
  "baseUrl": "http://localhost:4000",
  "failFast": true,
  "steps": [
    {
      "name": "Load root page",
      "url": "/",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "waitForLoadState", "options": { "state": "networkidle" } }
      ]
    },
    {
      "name": "Click New Flow button",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "click", "selector": "text=New Flow" },
        { "type": "waitForLoadState", "options": { "state": "networkidle" } }
      ]
    },
    {
      "name": "Verify flow editor loaded",
      "capture": { "screenshot": true },
      "assertions": [
        { "type": "visible", "selector": "text=New Flow" },
        { "type": "visible", "selector": "text=Action Library" },
        { "type": "visible", "selector": "text=Flow Steps" },
        { "type": "visible", "selector": "text=Save" }
      ]
    },
    {
      "name": "Fill base URL",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "fill", "selector": "input[placeholder*='localhost']", "value": "http://localhost:4000" }
      ]
    },
    {
      "name": "Verify devices and tags visible",
      "capture": { "screenshot": true },
      "assertions": [
        { "type": "visible", "selector": "text=Devices" },
        { "type": "visible", "selector": "text=Desktop" },
        { "type": "visible", "selector": "text=Mobile" },
        { "type": "visible", "selector": "text=Tags" }
      ]
    }
  ]
}

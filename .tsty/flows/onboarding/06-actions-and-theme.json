{
  "name": "Onboarding: Actions Library and Theme",
  "description": "Navigate to the Actions library, verify empty state and New Action button. Then toggle dark mode and verify UI updates.",
  "baseUrl": "http://localhost:4000",
  "failFast": true,
  "steps": [
    {
      "name": "Navigate to Actions library",
      "url": "/",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "waitForLoadState", "options": { "state": "networkidle" } },
        { "type": "click", "selector": "button[title='Library']" }
      ],
      "assertions": [
        { "type": "visible", "selector": "h1:has-text('Actions')" }
      ]
    },
    {
      "name": "Verify empty state",
      "capture": { "screenshot": true },
      "assertions": [
        { "type": "visible", "selector": "text=No actions yet" },
        { "type": "visible", "selector": "text=Create Action" },
        { "type": "visible", "selector": "text=New Action" }
      ]
    },
    {
      "name": "Verify action library features",
      "capture": { "screenshot": true },
      "assertions": [
        { "type": "visible", "selector": "text=Templates" },
        { "type": "visible", "selector": "text=Import/Export" },
        { "type": "visible", "selector": "input[placeholder*='Search actions']" }
      ]
    },
    {
      "name": "Navigate back to Tests",
      "primitives": [
        { "type": "click", "selector": "button[title='Tests']" }
      ],
      "assertions": [
        { "type": "visible", "selector": "h1:has-text('Tests')" }
      ]
    },
    {
      "name": "Toggle dark mode",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "click", "selector": "button[title='Dark mode']" },
        { "type": "waitForTimeout", "timeout": 500 }
      ]
    },
    {
      "name": "Verify dark mode applied",
      "capture": { "screenshot": true },
      "assertions": [
        { "type": "visible", "selector": "h1:has-text('Tests')" }
      ]
    },
    {
      "name": "Toggle light mode back",
      "capture": { "screenshot": true },
      "primitives": [
        { "type": "click", "selector": "button[title='Light mode']" },
        { "type": "waitForTimeout", "timeout": 500 }
      ]
    },
    {
      "name": "Verify light mode restored",
      "capture": { "screenshot": true }
    }
  ]
}
